---
title: Mouse Move Shadow | JavaScript30 | Corey Noble
description: Lesson 16. Manipulate the shadow of an item using the mouse position.
canonical: https://corey-noble.com/portfolio/development/javascript30/16-mouse-move-shadow.html
---

<!-- Introduction -->
<div class="js30-intro section white">
    <div class="row">
        <div class="small-12 column">
            <!-- Back CTA -->
            <p class="back-cta"><small><strong><a href="{{root}}portfolio/development/javascript30.html" title="Return to the blog landing page">&lt;&nbsp;Back to JavaScript&nbsp;30</a></strong></small></p>

            <!-- Title -->
            <h1>Mouse Move Shadow</h1>

            <!-- Accordion -->
            <ul class="accordion" data-accordion data-allow-all-closed="true">
                <li class="accordion-item" data-accordion-item="">
                    <!-- Title -->
                    <a href="#" class="accordion-title" aria-controls="" role="tab" id="project-synopsis" aria-expanded="false" aria-selected="false">
                        <h2 class="h5">Project Synopsis</h2>
                    </a>
                    <!-- Content -->
                    <div class="accordion-content" data-tab-content="" role="tabpanel" aria-labelledby="Project Synopsis" aria-hidden="true" id="project-synopsis" style="display: none;">
                        <p>In this lesson I manipulate the text-shadow style of an elemen depending on where the mouse is positioned.</p>
                        <p>First I grab the 'hero' &lt;div&gt; and 'text' element. I initialize the 'walk', which sets the bounds on the shadow size. I then listen for 'mousemove' on 'hero' and run shadow(e).</p>
                        <p>In <strong>shadow(e)</strong> I set the width and height to match the hero 'offsetWidth' and 'offsetHeight' using es6 destructuring. (const { offsetWidth: width, offsetHeight: height } = hero). I also get the position of the cursor based on the event offset (let { offsetX: x, offsetY: y } = e).</p>
                        <p>Next I detect if the element is no longer equal to the original target (this !== e.target), this checks if the user moved onto the overlapping text element. If so, the X,Y values would then point to that elements origin and would no longer be the same values as if we were hovering over the 'hero'. Because of this I calculate and set the X,Y values to match the new targets offset plus the current X,Y (x = x + e.target.offsetLeft). This ensures the X,Y values are still the same as they would be if there was no overlapping element.</p>
                        <p>Next I create new 'xWalk' and 'yWalk' variables that converts the walk into the bounds for X and Y (xWalk = Math.round((x / width * walk) - (walk / 2))). Finally I set the text shadow value on the 'text' element by injecting xWalk and yWalk (text.style.textShadow = `${xWalk}px ${yWalk}px 0 rgba(0,0,0,0.6)`).</p>
                        <!-- CodePen -->
                        <p class="codepen" data-height="330" data-theme-id="dark" data-default-tab="js" data-user="CoreyNoble" data-slug-hash="BgVMRE" style="height: 330px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="JavaScript30 - 16 - Mouse Move Shadow">
                        <span>See the Pen <a href="https://codepen.io/CoreyNoble/pen/BgVMRE/">
                        JavaScript30 - 16 - Mouse Move Shadow</a> by Corey Noble (<a href="https://codepen.io/CoreyNoble">@CoreyNoble</a>)
                        on <a href="https://codepen.io">CodePen</a>.</span>
                        </p>
                        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
            
<!-- JavaScript30 | 16 | Mouse Move Shadow -->
<div id="javascript30-16" class="section">
    <div class="row">
        <div class="small-12 column">
            <div class="hero">
                <h2 contenteditable>ðŸ”¥WOAH!</h2>
            </div>
        </div>
    </div>
</div>

<script src="{{root}}assets/js/javascript30/16-mouse-move-shadow.js"></script>