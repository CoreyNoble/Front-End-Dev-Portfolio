---
title: Type Ahead | JavaScript30 | Corey Noble
description: Lesson 6. Filter a list by city or state.
canonical: https://corey-noble.com/portfolio/development/javascript30/6-type-ahead.html
---

<!-- Introduction -->
<div class="section white">
    <div class="row">
        <div class="small-12 column">
            <h1>Type Ahead</h1>
            <!-- Accordion -->
            <ul class="accordion" data-accordion data-allow-all-closed="true">
                <li class="accordion-item" data-accordion-item="">
                    <!-- Title -->
                    <a href="#" class="accordion-title" aria-controls="" role="tab" id="project-synopsis" aria-expanded="false" aria-selected="false">
                        <h2 class="h5">Project Synopsis</h2>
                    </a>
                    <!-- Content -->
                    <div class="accordion-content" data-tab-content="" role="tabpanel" aria-labelledby="Project Synopsis" aria-hidden="true" id="project-synopsis" style="display: none;">
                        <p>In this lesson I am taking cities data from a .JSON file and am filtering through the search input to pair down the list.</p>
                        <p>First I create a variable that holds the url for the JSON data, and I initialize an empty 'cities[]' object.</p>
                        <p>I then fetch the JSON data (fetch(endpoint)) and use .then() so when the promise is validated it takes the blob data we recieve through the fetch, and converts it to JSON using the .json() method. .json() itself is also a promise which we return another .then() on. The second .then() will spread the data into the cities array (cities.push(...data)).</p>
                        <p>I listen for a 'change' or 'keyup' event on the search input, and fire a function. That function takes the value of the search input, and finds matches with 'cities' (findMatches(this.value, cities)). I then .map() over the new map and using a regular expresion I search for the cities globally and insensitively ('gi'). I then .replace() the text by nesting it in a &lt;span&gt; element to create the hightlight effect on the search term. I also return the list, only including the matches. The returned listed is output to the .innerHTML of the 'suggestions' element.</p>

                        <!-- CodePen -->
                        <p class="codepen" data-height="330" data-theme-id="dark" data-default-tab="js" data-user="CoreyNoble" data-slug-hash="LKrqZz" style="height: 330px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="JavaScript30 - 6 - Type Ahead">
                        <span>See the Pen <a href="https://codepen.io/CoreyNoble/pen/LKrqZz/">
                        JavaScript30 - 6 - Type Ahead</a> by Corey Noble (<a href="https://codepen.io/CoreyNoble">@CoreyNoble</a>)
                        on <a href="https://codepen.io">CodePen</a>.</span>
                        </p>
                        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
                    </div>
                </li>
            </ul>
            <!-- Back CTA -->
            <p class="back-cta"><small><strong><a href="{{root}}portfolio/development/javascript30.html" title="Return to the blog landing page">&lt;&nbsp;Back to JavaScript&nbsp;30</a></strong></small></p>
        </div>
    </div>
</div>
        
<!-- JavaScript30 | 6 | Type Ahead -->
<div id="javascript30-6" class="section">
    <div class="row">
        <div class="small-12 column">
            <form class="search-form">
                <input type="text" class="search" placeholder="City or State">
                <ul class="suggestions">
                    <li>Filter for a city</li>
                    <li>or a state</li>
                </ul>
            </form>
        </div>
    </div>
</div>

<script src="{{root}}assets/js/javascript30/6-type-ahead.js"></script>